(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,t,n){e.exports=n(38)},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),u=n.n(r),o=n(14),i=n(2),l=n(3),f=n.n(l),s="/api/persons",m=function(){return f.a.get(s).then((function(e){return e.data}))},d=function(e){return f.a.post(s,e).then((function(e){return e.data}))},p=function(e){return f.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},b=function(e,t){return f.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},h=function(e){var t=e.message;return""===t?null:t.includes("succesfully")?c.a.createElement("div",{className:"confirm"},t):c.a.createElement("div",{className:"error"},t)};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(""),l=Object(i.a)(u,2),f=l[0],s=l[1],E=Object(a.useState)(""),O=Object(i.a)(E,2),j=O[0],g=O[1],y=Object(a.useState)(""),w=Object(i.a)(y,2),P=w[0],S=w[1],k=Object(a.useState)(""),D=Object(i.a)(k,2),x=D[0],C=D[1];Object(a.useEffect)((function(){m().then((function(e){r(e)}))}),[]);var T=function(e){var t=e.person;return c.a.createElement("li",null,t.name," ",t.number," ",c.a.createElement("button",{onClick:function(){return J(t)}},"Delete"))},N=function(e){var t=e.text;return c.a.createElement("h2",null,t)},J=function(e){window.confirm("Delete ".concat(e.name))&&p(e.id).then((function(){m().then((function(e){r(e)})),C("".concat(e.name," removed succesfully")),setTimeout((function(){C("")}),2e3)}))};return c.a.createElement("div",null,c.a.createElement(N,{text:"Phonebook"}),c.a.createElement(h,{message:x}),c.a.createElement("div",null,"filter: ",c.a.createElement("input",{value:P,onChange:function(e){S(e.target.value)}})),c.a.createElement(N,{text:"Add a new"}),c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=!1;if(n.forEach((function(e){e.name===f&&(t=!0)})),t){if(window.confirm("".concat(f," is already added to phonebook. Replace the old number with a new one?"))){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.find((function(e){return e.name===f})),{number:j});b(a.id,a).then((function(e){r(n.map((function(t){return t.id!==a.id?t:e}))),C("".concat(a.name," changed succesfully")),setTimeout((function(){C("")}),2e3)})).catch((function(e){C("".concat(a.name," was already removed from server")),setTimeout((function(){C("")}),2e3)}))}}else d({name:f,number:j}).then((function(e){r(n.concat(e)),C("".concat(e.name," added succesfully")),setTimeout((function(){C("")}),2e3)})).catch((function(e){console.log(e.response.data),C("Message: ".concat(e))}));s(""),g(""),S("")}},c.a.createElement("div",null,"name: ",c.a.createElement("input",{value:f,onChange:function(e){s(e.target.value)}})),c.a.createElement("div",null,"number: ",c.a.createElement("input",{value:j,onChange:function(e){g(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add"))),c.a.createElement(N,{text:"Numbers"}),c.a.createElement("ul",null,c.a.createElement((function(e){return e.persons.filter((function(e){return e.name.includes(P)})).map((function(e){return c.a.createElement(T,{key:e.name,person:e})}))}),{persons:n})))};n(37);u.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.98db33bf.chunk.js.map